syntax = "proto3";

package test;

option java_package = "com.jettison.test";
option java_outer_classname = "SimpleProto";
option go_package = "github.com/jettison/test";

message SimpleMessage {
  string id = 1;
  int32 value = 2;
  repeated string tags = 3;
  
  enum Status {
    UNKNOWN = 0;
    ACTIVE = 1;
    INACTIVE = 2;
  }
  
  Status status = 4;
  map<string, string> metadata = 5;
  
  oneof data {
    string text_data = 6;
    bytes binary_data = 7;
  }
}

message SimpleRequest {
  string query = 1;
  int32 page = 2;
  int32 page_size = 3;
}

message SimpleResponse {
  repeated SimpleMessage results = 1;
  int32 total_count = 2;
  string next_page_token = 3;
}

service SimpleService {
  rpc GetSimple(SimpleRequest) returns (SimpleResponse);
  rpc CreateSimple(SimpleMessage) returns (SimpleMessage);
}